(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{107:function(e,t,a){e.exports=a(276)},112:function(e,t,a){},113:function(e,t,a){},276:function(e,t,a){"use strict";a.r(t);var n=a(1),l=a.n(n),r=a(16),o=a.n(r),c=(a(112),a(36)),i=a(37),s=a(39),m=a(38),u=a(40),d=(a(113),a(102)),h=a(21),p=a(26),g=a.n(p),f=a(61),b=a.n(f),y=a(41),v=a.n(y),E=a(20),w=a.n(E),k=a(63),j=a.n(k),x=a(106),N=a.n(x),C=a(62),O=a.n(C),B=a(60),I=a.n(B),S=a(59),W=a.n(S),z=a(29),q=a.n(z),D=a(103),F=a.n(D),P=a(105),A=a.n(P),J=Object(h.withStyles)(function(e){return{card:{display:"flex",width:"100%",marginBottom:20},details:{display:"flex",flexDirection:"column",width:"100%"},content:{flex:"1 0 auto",width:"100%"},cover:{width:151},controls:{display:"flex",alignItems:"center",paddingLeft:e.spacing.unit,paddingBottom:e.spacing.unit},playIcon:{height:38,width:38}}})(function(e){var t=e.classes;return l.a.createElement(F.a,{className:t.card},l.a.createElement("div",{className:t.details},l.a.createElement(A.a,{className:t.content},l.a.createElement(w.a,{component:"h5",variant:"h5"},l.a.createElement("a",{href:"https://allegro.pl/oferta/"+e.data.id},e.data.name)),l.a.createElement(w.a,{variant:"subtitle1",color:"textSecondary"},"ID sprzedawcy: ",e.data.seller.id),l.a.createElement(w.a,{variant:"subtitle1",color:"textSecondary"},"Cena: ",e.data.sellingMode.price.amount))))}),L=Object(h.withStyles)(function(e){return{paper:{padding:2*e.spacing.unit,margin:"auto",maxWidth:800},endOfBasket:{border:"4px solid black"},endOfItem:{border:"2px dashed blue"}}})(function(e){for(var t=e.classes,a=[],n=0,r=0;r<e.data.length;++r){a.push(l.a.createElement("p",{style:{fontSize:"2em"}},"Koszyk"));for(var o=0;o<e.data[r].parcels.length;++o){var c=e.data[r].parcels[o].items;n+=e.data[r].parcels[o].parcel.price;for(var i=0,s=c.length;i<s;++i)a.push(l.a.createElement(J,{data:c[i]})),console.log(c[i]),n+=c[i].sellingMode.price.amount;a.push(l.a.createElement("hr",{className:t.endOfItem}))}a.push(l.a.createElement("p",null,"Suma: ",n.toFixed(2))),n=0,a.push(l.a.createElement("hr",{className:t.endOfBasket}))}return l.a.createElement(g.a,{className:t.paper},a)}),M=Object(h.withStyles)(function(e){return{name:{display:"flex",justifyContent:"space-around",alignItems:"center"},typo:{width:"100%",margin:20}}})(function(e){var t=e.classes;return l.a.createElement("div",{className:t.name,key:e.data.id},l.a.createElement(w.a,{className:t.typo,variant:"body1",gutterBottom:!0,align:"left"},e.data.name),l.a.createElement(v.a,{variant:"contained",color:"secondary",className:t.button,onClick:e.function},"-"))}),G=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={query:"",data:[],basket:null,algorithm:null,labelWidth:100,parcelNumber:1},a.handleChange=function(e){return function(t){a.setState(Object(d.a)({},e,t.target.value))}},a.sendQuery=function(){q()("http://localhost:8080/api/cart",{method:"post",params:{phrase:a.state.query},withCredentials:!0}).then(function(e){console.log(e),a.getBasket()}).catch(function(e){console.log(e)})},a.getBasket=function(){q()("http://localhost:8080/api/cart",{method:"get",withCredentials:!0}).then(function(e){console.log(e),a.setState({data:e.data})}).catch(function(e){console.log(e)})},a.deleteItem=function(e){q()("http://localhost:8080/api/cart",{method:"delete",data:e,withCredentials:!0}).then(function(e){console.log(e),a.getBasket()}).catch(function(e){console.log(e)})},a.calculateBasket=function(){var e=a.state,t=e.algorithm,n=e.parcelNumber;null==t&&(t="jaccard"),q()("http://localhost:8080/api/cart/proposes",{method:"get",params:{algorithm:t,maxPacket:n},withCredentials:!0}).then(function(e){console.log(e),a.setState({basket:e.data.data})}).catch(function(e){console.log(e)})},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.getBasket()}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state.data.map(function(t){return l.a.createElement(M,{data:t,function:function(){return e.deleteItem(t)}})}),n=null;return null!=this.state.basket&&(n=l.a.createElement(L,{data:this.state.basket})),l.a.createElement("div",{className:t.root},l.a.createElement(g.a,{className:t.paper},l.a.createElement("div",{className:t.searchBar},l.a.createElement(b.a,{id:"outlined-name",label:"Wyszukaj...",className:t.searchTextField,value:this.state.query,onChange:this.handleChange("query"),margin:"normal",variant:"outlined"}),l.a.createElement(v.a,{variant:"contained",color:"primary",className:t.button,onClick:this.sendQuery},"Dodaj")),l.a.createElement("div",null,a),l.a.createElement("div",null,l.a.createElement(b.a,{id:"standard-number",label:"Liczba przesy\u0142ek",value:this.state.parcelNumber,onChange:this.handleChange("parcelNumber"),type:"number",className:t.textField,InputLabelProps:{shrink:!0},margin:"normal"}),l.a.createElement(I.a,{component:"fieldset"},l.a.createElement(W.a,{component:"algorithm"},"Algorytm"),l.a.createElement(N.a,{"aria-label":"algorithm",name:"algorithm",value:this.state.algorithm,onChange:this.handleChange,row:!0},l.a.createElement(O.a,{value:"jaccard",control:l.a.createElement(j.a,{color:"primary"}),label:"Jaccard",labelPlacement:"bottom"}),l.a.createElement(O.a,{value:"cosinus",control:l.a.createElement(j.a,{color:"primary"}),label:"Cosinus",labelPlacement:"bottom"}))),l.a.createElement(v.a,{variant:"contained",color:"primary",className:t.buttonB,onClick:this.calculateBasket},"Generuj"))),n)}}]),t}(l.a.Component),Q=Object(h.withStyles)(function(e){return{root:{flexGrow:1},paper:{padding:2*e.spacing.unit,margin:"auto",maxWidth:800},image:{width:128,height:128},img:{margin:"auto",display:"block",maxWidth:"100%",maxHeight:"100%"},searchBar:{display:"flex",justifyContent:"space-around",alignItems:"center"},searchTextField:{width:"100%",marginRight:20},buttonB:{width:150,height:50,marginRight:20}}})(G),R=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"App"},l.a.createElement(Q,null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(l.a.createElement(R,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[107,1,2]]]);
//# sourceMappingURL=main.aed71f5b.chunk.js.map